# QnA

 * 소프트웨어 업데이트
 * 순정 복원
 * 앱 저장 공간 부족
 * 루트 권한 숨기기
 * 타사 앱 물리키
 * 타사 앱 화면 수동 리프레시
 * 호환성 문제로 동작하지 않는 앱
 * 백그라운드 앱 자동 종료 / 종료하지 않기
 * 앱 서랍, 소프트키 앱 지웠을 때 복구
 * 접근성 서비스 활성화


## 소프트웨어 업데이트

그냥 진행하세요. 업데이트 완료 직후 알아서 루트 도구를 (기본 앱 빼고) 재설치합니다.


## 순정 복원

[순정 복원 가이드](/docs/BACK_TO_STOCK.md)를 참조하세요.


## 앱 저장 공간 부족

> * **남은 공간 확인**  
>  [설정] 앱 - [애플리케이션] 메뉴 - 하단의 용량 막대 확인
> * **앱별 공간 사용량 확인**  
>   위의 화면에서, 1. 공간 계산이 끝날 때까지 잠시 기다리거나, 2. 원하는 앱 터치하여 [앱 정보] 화면에서 확인

  * 일부 서점 앱은 (e.g. 교보문고, 밀리의서재) 순정에서는 비좁은 앱 공간에 도서 데이터까지 저장하려 시도합니다. 
    만약 서점 앱이 SD카드를 지원한다면, SD 카드를 마련하셔서 SD 카드에 도서 데이터를 저장하도록 설정하세요.
  * 설치된 앱 중 일부를 SD 카드에 옮길 수 있습니다. 다만 모든 파일이 옮겨지지는 않습니다.
    * 대신 "Link2SD" 같은 앱을 알아보실 수도 있습니다.
  * 모험을 좋아하신다면 (비공식) 리파티션으로 앱 공간과 사용자 공간 통합을 고려해 보세요.


## 루트 권한 있으면 실행되지 않는 앱

현재 버전에서는 SuperSU ([mvapple님 수정 버전](http://www.mvapple.com/179) 허락 없이... 이용 중) 도구를 통해 루트 권한을 관리하고 있습니다.

그런데 일부 앱들은 루트 권한이 있을 경우 실행되지 않는 경우가 있습니다. 유료 저작물 유출 방지를 위해서일텐데요.

> 조아라, 문피아, 교보eBook (>=19년 4월), 밀리의서재 (>=21년 9월)

다음 두 가지 방법을 시도해볼 수 있습니다:
 * RootCloak 이용하기 (+ Xposed Framework)  
   - RootCloak 앱을 켜고 
   - 적용 대상 앱에 원하는 앱을 추가한 뒤 
   - 대상 앱 강제종료 후 재실행, 또는 그냥 재부팅해보세요
 * SuperSU 권한 잠시 숨기기  
 SuperSU 앱에서 루트 권한을 잠시 숨길 수 있습니다.    
 `SuperSU 앱 > 설정 > "SuperSU 사용" 체크 해제`    
 아예 SuperSU 및 루트 권한을 지울 수도 있고요.     

> 🚫 루트 권한을 내려놓거나 지우면 일부 앱이 비정상 동작합니다:
> * UDN (Ultimate Dynamic Navbar) 소프트키 앱 (부팅 중)
  : 루트 권한이 없으면 홈, 백 키 등을 사용할 수 없습니다.
> * Wi-Fi 리모컨 앱
> * eBook카페 나그네 님의 버튼매퍼 앱 (부팅 중)

> 부팅 중에 위와 같은 앱이 루트 권한을 얻을 수 있도록, 재부팅시키기 전 `SuperSU 사용`에 다시 체크해 두세요.

> 일부 앱은 위 방법으로도 루트 권한을 숨기지 못할 수 있어요. 그렇다면 그냥 포기하세요.


## 타사 앱 물리키

간혹 하드웨어 페이지키를 지원하지 않는 앱이 있습니다. 아래와 같이 해 보세요:

 1. 물리키 지원하도록 수정된 앱으로 교체, 또는
 1. Xposed Additions에서 원하는 버튼 동작 지정

> 🚫 반대로 물리키가 원치 않게 동작한다면? (볼륨 창이 뜸, ..)  
> 준비한 기본 설정이 오히려 문제가 된 경우입니다. Xposed Additions 앱 설정에서 준비한 설정값을 **삭제**하세요.


## 타사 앱 화면 수동 리프레시

[기본 사용법](/docs/BASIC_USAGE.md)과 같이 `Xposed Additions`에서 지정해둔 버튼 조합을 통해 **화면 (수동) 리프레시**가 가능합니다.

> 🚫 `KOReader`와 같은 일부 앱은 화면 그리는 방식이 달라서 동작하지 않습니다.

 * 또는, 네이버 eBook카페 데메빌러님의 `epdblk` + `RefreshPie` 앱 조합을 통해 자동 리프레시를 즐겨 보세요.


## 호환성 문제로 동작하지 않는 앱

* 최소 지원 OS 버전이 **안드로이드 5.0 (롤리팝, API 21) 이상**인 경우
* **카카오페이지**: 사용자 공간의 파일 저장 방식 문제로 동작하지 않습니다.   
(비공식) 리파티션을 통해 저장 공간 통합 시 사용 가능합니다.
* 기기 사양 문제로 동작하지 않는 앱
  - **OpenGLES 2.0 이상**을 사용하는 앱
     - 구글 크롬, 모질라 파이어폭스 등 자체 웹브라우징 엔진을 사용하는 앱
     - EBookDroid PDF 뷰어


## 백그라운드 앱 자동 종료 / 종료하지 않기: Greenify 설정

Greenify 앱을 통해 백그라운드 앱을 자동 종료하여 대기 중 배터리 소모를 줄이고자 했습니다. 특히 `Moon Reader >= 4.0` 앱, 그리고 `원스토어북스` 앱에 유용합니다.

직접 설치한 앱 중 자동 정리되길 원하는 앱은 Greenify 관리 목록에 추가하시고, 반대로 앱이 멋대로 자동 정리되어 불편한 경우 관리 목록에서 지우세요.


## 앱 서랍, 소프트키 앱 지웠을 때 복구

다음 상황을 생각해봤습니다:
  * 앱 서랍 또는 소프트키 앱이 지워진 경우
  * 소프트키 앱 설정이 망가져서 앱 서랍을 띄울 수 없는 경우

몇 가지 해결 방안을 적어봅니다. **일단 PC에 연결해 주세요.**

1. 아래처럼 설정 다시 잡는 게 더 귀찮다면, 다시 루팅 절차를 진행해보세요.  
    >  ❗ **주의**: 기본 앱에 대해 해 둔 사용자 설정이 모두 원상복구됩니다!  
    >  ✅ r13부터 다시 설정 파일을 무조건 덮어쓰기로 했습니다.
2. 소프트키 설정이 망가져서 앱 서랍을 띄울 수 없을 때:  
    * 루팅 도구 폴더의 `_launch_app.cmd` 파일을 실행하면, 앱 이름을 적거나 메뉴에서 골라달라는 창이 뜹니다.
    * 1번 `E-Ink Launcher`가 최근 제가 넣어드리는 앱 서랍 앱이니 1번 골라서 실행하십시오.
    * 이제 기기에서 앱 서랍이 뜨면, 소프트키 앱을 띄워서 앱 서랍을 실행할 수 있게 설정을 고치십시오.
3. 앱을 지웠을 때
    - ADB 명령 또는 루팅 도구의 앱 설치 도구 `_install_apps.cmd`를 써서 지운 앱을 설치하세요. 사용법은 앞 글을 참조하세요.
    - 소프트키 앱을 지웠다면 앱 서랍은 아직 살아있을 테니...
  2와 같이 하고 앱 서랍에서 파일 탐색기 앱을 켠 뒤,
  PC에서 기기에 소프트키 앱 파일을 넣고 기기에서 설치해보세요.
    - 이제 소프트키 앱을 띄워서, 앱 서랍을 실행할 수 있도록 설정을 다시 잡으세요.
  
  
## 접근성 서비스 활성화

  - 일부 소프트키 앱은 "접근성 서비스"를 통해 뒤로 버튼 등을 동작시키지만
  - 리디의 환경설정 앱 개조가 덜 되어 있어 기기 상에서는 접근성 서비스 활성화가 불가능
    - 설정 앱의 레이아웃에서 상단 툴바가 제거되어 있으나 코드에 반영되어 있지 않아, 존재하지 않는 툴바에 명령 내리려다 강제종료...

대신 ADB 셸에서 "settings" 명령 통해 활성화가 가능 (루트 권한 불필요)
  
  - APK 파일에 대해 aapt 명령을 내리거나 하여 접근성 서비스 이름을 찾고
    e.g. Multi-action Home Button은 `com.home.button.bottom/com.home.button.service.AccessibilityActionService`
  - 기기의 ADB 셸에서 다음 명령을 다음 순서대로 내리기
```sh
settings put secure enabled_accessibility_services 'com.home.button.bottom/com.home.button.service.AccessibilityActionService'
settings put secure accessibility_enabled 1
```

  - 원하는 서비스가 두 개 이상이라면 ':'으로 구분하여 이어 적기
